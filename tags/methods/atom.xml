<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title>Josiah Parry - methods</title>
    <link rel="self" type="application/atom+xml" href="https://josiah.rs/tags/methods/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://josiah.rs"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2018-11-28T00:00:00+00:00</updated>
    <id>https://josiah.rs/tags/methods/atom.xml</id>
    <entry xml:lang="en">
        <title>[Not so] generic functions</title>
        <published>2018-11-28T00:00:00+00:00</published>
        <updated>2018-11-28T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://josiah.rs/posts/function-methods/"/>
        <id>https://josiah.rs/posts/function-methods/</id>
        
        <content type="html" xml:base="https://josiah.rs/posts/function-methods/">&lt;p&gt;Lately I have been doing more of my spatial analysis work in R with the help of the &lt;code&gt;sf&lt;&#x2F;code&gt; package. One shapefile I was working with had some horrendously named columns, and naturally, I tried to clean them using the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function from the &lt;code&gt;janitor&lt;&#x2F;code&gt; package. But lo, an egregious error occurred. To this end, I officially filed my complaint as an &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sfirke&#x2F;janitor&#x2F;pull&#x2F;249&quot;&gt;issue&lt;&#x2F;a&gt;. The solution presented was to &lt;em&gt;simply&lt;&#x2F;em&gt; create a method for &lt;code&gt;sf&lt;&#x2F;code&gt; objects.&lt;&#x2F;p&gt;
&lt;p&gt;Yeah, methods, how tough can those be? Apparently the process isn&#x27;t at all difficult. But figuring out the process? That was difficult. This post will explain how I went about the process for converting the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function into a &lt;em&gt;generic&lt;&#x2F;em&gt; (I&#x27;ll explain this in a second), and creating a &lt;em&gt;method&lt;&#x2F;em&gt; for &lt;code&gt;sf&lt;&#x2F;code&gt; and &lt;code&gt;tbl_graph&lt;&#x2F;code&gt; objects.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;the-jargon&quot;&gt;The Jargon&lt;&#x2F;h3&gt;
&lt;p&gt;Okay, I want to address the jargon. What the hell is a &lt;em&gt;generic&lt;&#x2F;em&gt; function, and what is a &lt;em&gt;method&lt;&#x2F;em&gt;? But first, I want to give a quick tl;dr on what a function is. I define as function as bit of code that takes an input, changes it in some way, and produces an output. Even simpler, a function takes an input and creates an output.&lt;&#x2F;p&gt;
&lt;h4 id=&quot;generic-functions&quot;&gt;Generic Functions&lt;&#x2F;h4&gt;
&lt;p&gt;Now, what is a &lt;em&gt;&lt;strong&gt;generic&lt;&#x2F;strong&gt;&lt;&#x2F;em&gt; function? My favorite definition that I&#x27;ve seen so far comes from &lt;em&gt;LispWorks Ltd&lt;&#x2F;em&gt; (their website is a historic landmark, I recommend you give it a look for a reminder of what the internet used to be). They define a &lt;a href=&quot;http:&#x2F;&#x2F;clhs.lisp.se&#x2F;Body&#x2F;07_fa.htm&quot;&gt;generic function&lt;&#x2F;a&gt; as&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;a function whose behavior depends on the classes or identities of the arguments supplied to it.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;This means that we have to create a function that looks at the class of an object and perform an operation based on the object class. That means if there is &lt;code&gt;&quot;numeric&quot;&lt;&#x2F;code&gt; or &lt;code&gt;&quot;list&quot;&lt;&#x2F;code&gt; object, they will be treated differently. These are called &lt;code&gt;methods&lt;&#x2F;code&gt;. Note: you can find the class of an object by using the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;class.html&quot;&gt;&lt;code&gt;class()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function on any object.&lt;&#x2F;p&gt;
&lt;h4 id=&quot;methods&quot;&gt;Methods&lt;&#x2F;h4&gt;
&lt;p&gt;To steal from &lt;em&gt;LispWorks Ltd&lt;&#x2F;em&gt; again, a &lt;a href=&quot;http:&#x2F;&#x2F;clhs.lisp.se&#x2F;Body&#x2F;26_glo_m.htm#method&quot;&gt;method&lt;&#x2F;a&gt; is&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;part of a generic function which provides information about how that generic function should behave [for] certain classes.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;This means that a method is part of a generic function and has to be defined separately. Imagine we have a generic function called &lt;code&gt;f&lt;&#x2F;code&gt; with methods for &lt;code&gt;list&lt;&#x2F;code&gt; and &lt;code&gt;numeric&lt;&#x2F;code&gt; objects. The way that we would denote these methods is by putting a period after the function name and indicating the type of object the function is to be used on. These would look like &lt;code&gt;f.list&lt;&#x2F;code&gt; and &lt;code&gt;f.numeric&lt;&#x2F;code&gt; respectively.&lt;&#x2F;p&gt;
&lt;p&gt;But to save time you can always create a &lt;code&gt;default&lt;&#x2F;code&gt; method which will be dispatched (used) on any object that it hasn&#x27;t been explicitly told how to operate on (by a specific method).&lt;&#x2F;p&gt;
&lt;p&gt;Now that the intuition of what generic functions and methods R, we can begin the work of actually creating them. This tutorial will walk through the steps I took in changing the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; from a standard function into a generic function with methods for &lt;code&gt;sf&lt;&#x2F;code&gt; objects and &lt;code&gt;tbl_graph&lt;&#x2F;code&gt; objects from the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;r-spatial&#x2F;sf&quot;&gt;&lt;code&gt;sf&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; and &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;thomasp85&#x2F;tidygraph&quot;&gt;&lt;code&gt;tidygraph&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; packages respectively.&lt;&#x2F;p&gt;
&lt;p&gt;A brief overview of the process:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Define the generic function&lt;&#x2F;li&gt;
&lt;li&gt;Create a default method&lt;&#x2F;li&gt;
&lt;li&gt;Create additional methods&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;A quick note: The code that follows is not identical to that of the package. I will be changing it up to make it simpler to read and understand what is happening.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;the-generic-method&quot;&gt;The Generic Method&lt;&#x2F;h3&gt;
&lt;p&gt;The first step, as described above, is to create a generic function. Generic functions are made by creating a new function with the body containing only a call to the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;UseMethod.html&quot;&gt;&lt;code&gt;UseMethod()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function. The only argument to this is the name of your generic function---this should be the same as the name of the function you are making. This tells R that you are creating a generic function. Additionally, you should add any arguments that will be necessary for your function. Here, there are two arguments: &lt;code&gt;dat&lt;&#x2F;code&gt; and &lt;code&gt;case&lt;&#x2F;code&gt;. These indicate the data to be cleaned and the preferred style for them to be cleaned according to.&lt;&#x2F;p&gt;
&lt;p&gt;I am not setting any default values for &lt;code&gt;dat&lt;&#x2F;code&gt; to make it required, whereas I am setting &lt;code&gt;case&lt;&#x2F;code&gt; to &lt;code&gt;&quot;snake&quot;&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nv&#x27;&gt;clean_names&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;kr&#x27;&gt;function&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, &lt;span class=&#x27;nv&#x27;&gt;case&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;snake&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;#123;&lt;&#x2F;span&gt;
  &lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;UseMethod.html&#x27;&gt;UseMethod&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;s&#x27;&gt;&quot;clean_names&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;o&#x27;&gt;&amp;#125;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Now we have created a generic function. But this function doesn&#x27;t know how to run on any given object types. In other words, there are no methods associated with it. To illustrate this try using the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function we just defined on objects of different types.&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;clean_names(1) # numeric 
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;clean_names(&amp;quot;test&amp;quot;) # character 
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;clean_names(TRUE) # logical 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [1] &quot;no applicable method for &#x27;clean_names&#x27; applied to an object of class \&quot;c(&#x27;double&#x27;, &#x27;numeric&#x27;)\&quot;&quot;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [1] &quot;no applicable method for &#x27;clean_names&#x27; applied to an object of class \&quot;character\&quot;&quot;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [1] &quot;no applicable method for &#x27;clean_names&#x27; applied to an object of class \&quot;logical\&quot;&quot;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;The output of these calls say &lt;code&gt;no applicable method for &#x27;x&#x27; applied to an object of [class]&lt;&#x2F;code&gt;. In order to prevent this from happening, we can create a default method. A default method will always be used if the function doesn&#x27;t have a method for the provided object type.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;the-default-method&quot;&gt;The Default Method&lt;&#x2F;h3&gt;
&lt;p&gt;Remember that methods are indicated by writing &lt;code&gt;function.method&lt;&#x2F;code&gt;. It is also important to note that the &lt;code&gt;method&lt;&#x2F;code&gt; should indicate an object class. To figure out what class an object is you can use the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;class.html&quot;&gt;&lt;code&gt;class()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function. For example &lt;code&gt;class(1)&lt;&#x2F;code&gt; tells you that the number &lt;code&gt;1&lt;&#x2F;code&gt; is &quot;numeric&quot;.&lt;&#x2F;p&gt;
&lt;p&gt;In this next step I want to create a default method that will be used on every object that there isn&#x27;t a method explicitly for. To do this I will create a function called &lt;code&gt;clean_names.default&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;As background, the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function takes a data frame and changes column headers to fit a given style. &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; in the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sfirke&#x2F;janitor&quot;&gt;development version&lt;&#x2F;a&gt; is based on the function &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&quot;&gt;&lt;code&gt;make_clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; which takes a character vector and makes each value match a given style (the default is snake, and you should only use snake case because everything else is wrong * sarcasm * ).&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;library.html&#x27;&gt;library&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;github.com&#x2F;sfirke&#x2F;janitor&#x27;&gt;janitor&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Now let&#x27;s see how this function works. For this we will use the ugliest character vector I have ever seen from the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sfirke&#x2F;janitor&#x2F;blob&#x2F;master&#x2F;tests&#x2F;testthat&#x2F;test-clean-names.R&quot;&gt;tests&lt;&#x2F;a&gt; for &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; (h&#x2F;t @sfirke for making this).&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nv&#x27;&gt;ugly_names&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;c.html&#x27;&gt;c&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;
  &lt;span class=&#x27;s&#x27;&gt;&quot;sp ace&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;repeated&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;a**^@&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;%&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;*&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;!&quot;&lt;&#x2F;span&gt;,
  &lt;span class=&#x27;s&#x27;&gt;&quot;d(!)9&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;REPEATED&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;can\&quot;&#x27;t&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;hi_`there`&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;  leading spaces&quot;&lt;&#x2F;span&gt;,
  &lt;span class=&#x27;s&#x27;&gt;&quot;€&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;ação&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;Farœ&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;a b c d e f&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;testCamelCase&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;!leadingpunct&quot;&lt;&#x2F;span&gt;,
  &lt;span class=&#x27;s&#x27;&gt;&quot;average # of days&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;jan2009sales&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;jan 2009 sales&quot;&lt;&#x2F;span&gt;
&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;nv&#x27;&gt;ugly_names&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [1] &quot;sp ace&quot;            &quot;repeated&quot;          &quot;a**^@&quot;             &quot;%&quot;                &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [5] &quot;*&quot;                 &quot;!&quot;                 &quot;d(!)9&quot;             &quot;REPEATED&quot;         &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [9] &quot;can\&quot;&#x27;t&quot;           &quot;hi_`there`&quot;        &quot;  leading spaces&quot;  &quot;€&quot;                &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [13] &quot;ação&quot;              &quot;Farœ&quot;              &quot;a b c d e f&quot;       &quot;testCamelCase&quot;    &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [17] &quot;!leadingpunct&quot;     &quot;average # of days&quot; &quot;jan2009sales&quot;      &quot;jan 2009 sales&quot;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Now to see how this function works:&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&#x27;&gt;make_clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;ugly_names&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [1] &quot;sp_ace&quot;                 &quot;repeated&quot;               &quot;a&quot;                     &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [4] &quot;percent&quot;                &quot;x&quot;                      &quot;x_2&quot;                   &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;  [7] &quot;d_9&quot;                    &quot;repeated_2&quot;             &quot;cant&quot;                  &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [10] &quot;hi_there&quot;               &quot;leading_spaces&quot;         &quot;x_3&quot;                   &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [13] &quot;acao&quot;                   &quot;faroe&quot;                  &quot;a_b_c_d_e_f&quot;           &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [16] &quot;test_camel_case&quot;        &quot;leadingpunct&quot;           &quot;average_number_of_days&quot;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; [19] &quot;jan2009sales&quot;           &quot;jan_2009_sales&quot;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Très magnifique!&lt;&#x2F;p&gt;
&lt;p&gt;The body of the default method will take column names from a dataframe, clean them, and reassign them. Before we can do this, a dataframe is needed!&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;c&#x27;&gt;# create a data frame with 20 columns&lt;&#x2F;span&gt;
&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;tibble.tidyverse.org&#x2F;reference&#x2F;as_tibble.html&#x27;&gt;as_tibble&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;matrix.html&#x27;&gt;matrix&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;sample.html&#x27;&gt;sample&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;100&lt;&#x2F;span&gt;, &lt;span class=&#x27;m&#x27;&gt;20&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;, ncol &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;m&#x27;&gt;20&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# makes the column names the `ugly_names` vector&lt;&#x2F;span&gt;
&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;names.html&#x27;&gt;names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;ugly_names&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# print the data frame.&lt;&#x2F;span&gt;
&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tibble: 1 × 20&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   `sp ace` repeated `a**^@`   `%`   `*`   `!` `d(!)9` REPEATED `can&quot;&#x27;t` hi_\th…¹   lea…²&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;      &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;       78       18      99    28    26    38      43       73       51       33      23&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 9 more variables: `€` &amp;lt;int&amp;gt;, ação &amp;lt;int&amp;gt;, Farœ &amp;lt;int&amp;gt;, `a b c d e f` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   testCamelCase &amp;lt;int&amp;gt;, `!leadingpunct` &amp;lt;int&amp;gt;, `average # of days` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, `jan 2009 sales` &amp;lt;int&amp;gt;, and abbreviated variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   ¹​`hi_\`there\``, ²​`  leading spaces`&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# ℹ Use `colnames()` to see all variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;The process for writing this function is:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;take a dataframe&lt;&#x2F;li&gt;
&lt;li&gt;take the old column names and clean them&lt;&#x2F;li&gt;
&lt;li&gt;reassign the column names as the new clean names&lt;&#x2F;li&gt;
&lt;li&gt;return the object&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nv&#x27;&gt;clean_names.default&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;kr&#x27;&gt;function&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, &lt;span class=&#x27;nv&#x27;&gt;case&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;snake&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;#123;&lt;&#x2F;span&gt; 
  &lt;span class=&#x27;c&#x27;&gt;# retrieve the old names&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nv&#x27;&gt;old_names&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;names.html&#x27;&gt;names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# clean the old names&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nv&#x27;&gt;new_names&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&#x27;&gt;make_clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;old_names&lt;&#x2F;span&gt;, case &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;case&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# assign the column names as the clean names vector&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;names.html&#x27;&gt;names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;new_names&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# return the data&lt;&#x2F;span&gt;
  &lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;function.html&#x27;&gt;return&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;o&#x27;&gt;&amp;#125;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Now that the default method has been defined. Try running the function on our test dataframe!&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&#x27;&gt;clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tibble: 1 × 20&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   sp_ace repeated     a percent     x   x_2   d_9 repeated_2  cant hi_th…¹ leadi…²   x_3&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;      &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;     78       18    99      28    26    38    43         73    51      33      23    27&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 8 more variables: acao &amp;lt;int&amp;gt;, faroe &amp;lt;int&amp;gt;, a_b_c_d_e_f &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   test_camel_case &amp;lt;int&amp;gt;, leadingpunct &amp;lt;int&amp;gt;, average_number_of_days &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, jan_2009_sales &amp;lt;int&amp;gt;, and abbreviated variable names ¹​hi_there,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   ²​leading_spaces&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# ℹ Use `colnames()` to see all variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Oh, my gorsh. Look at that! We can try replicating this with a named vector to see how the default method dispatched on unknown objects!&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;c&#x27;&gt;# create a vector with 20 elements&lt;&#x2F;span&gt;
&lt;span class=&#x27;nv&#x27;&gt;test_vect&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;c.html&#x27;&gt;c&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;1&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;:&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;20&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# name each element with the ugly_names vector &lt;&#x2F;span&gt;
&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;names.html&#x27;&gt;names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_vect&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;ugly_names&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# try cleaning!&lt;&#x2F;span&gt;
&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&#x27;&gt;clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_vect&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                 sp_ace               repeated                      a &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                      1                      2                      3 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                percent                      x                    x_2 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                      4                      5                      6 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                    d_9             repeated_2                   cant &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                      7                      8                      9 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;               hi_there         leading_spaces                    x_3 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                     10                     11                     12 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                   acao                  faroe            a_b_c_d_e_f &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                     13                     14                     15 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;        test_camel_case           leadingpunct average_number_of_days &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                     16                     17                     18 &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;           jan2009sales         jan_2009_sales &lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;                     19                     20&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;It looks like this default function works super well with named objects! Now, we will broach the problem I started with, &lt;code&gt;sf&lt;&#x2F;code&gt; objects.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sf-method&quot;&gt;&lt;code&gt;sf&lt;&#x2F;code&gt; method&lt;&#x2F;h3&gt;
&lt;p&gt;This section will go over the process for creating the &lt;code&gt;sf&lt;&#x2F;code&gt; method. If you have not ever used the &lt;code&gt;sf&lt;&#x2F;code&gt; package, I suggest you give it a try! It makes dataframe objects with spatial data associated with it. This allows you to perform many of the functions from the &lt;code&gt;tidyverse&lt;&#x2F;code&gt; to spatial data.&lt;&#x2F;p&gt;
&lt;p&gt;Before getting into it, I want to create a test object to work with. I will take the &lt;code&gt;test_df&lt;&#x2F;code&gt; column, create longitude and latitude columns, and then convert it into an &lt;code&gt;sf&lt;&#x2F;code&gt; object. The details of &lt;code&gt;sf&lt;&#x2F;code&gt; objects is out of the scope of this post.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;library.html&#x27;&gt;library&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;r-spatial.github.io&#x2F;sf&#x2F;&#x27;&gt;sf&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;nv&#x27;&gt;test_sf&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;magrittr.tidyverse.org&#x2F;reference&#x2F;pipe.html&#x27;&gt;%&amp;gt;%&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# create xy columns&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;mutate.html&#x27;&gt;mutate&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;long &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;-&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;80&lt;&#x2F;span&gt;, 
         lat &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;m&#x27;&gt;40&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;magrittr.tidyverse.org&#x2F;reference&#x2F;pipe.html&#x27;&gt;%&amp;gt;%&lt;&#x2F;a&gt;&lt;&#x2F;span&gt; 
  &lt;span class=&#x27;c&#x27;&gt;# convert to sf object &lt;&#x2F;span&gt;
  &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;r-spatial.github.io&#x2F;sf&#x2F;reference&#x2F;st_as_sf.html&#x27;&gt;st_as_sf&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;coords &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;c.html&#x27;&gt;c&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;s&#x27;&gt;&quot;long&quot;&lt;&#x2F;span&gt;, &lt;span class=&#x27;s&#x27;&gt;&quot;lat&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# converting geometry column name to poor style&lt;&#x2F;span&gt;
&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;names.html&#x27;&gt;names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_sf&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;[&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;21&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;]&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;Geometry&quot;&lt;&#x2F;span&gt;

&lt;span class=&#x27;c&#x27;&gt;# telling sf which column is now the geometry&lt;&#x2F;span&gt;
&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;r-spatial.github.io&#x2F;sf&#x2F;reference&#x2F;st_geometry.html&#x27;&gt;st_geometry&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_sf&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;Geometry&quot;&lt;&#x2F;span&gt;

&lt;span class=&#x27;nv&#x27;&gt;test_sf&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Simple feature collection with 1 feature and 20 fields&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Geometry type: POINT&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Dimension:     XY&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Bounding box:  xmin: -80 ymin: 40 xmax: -80 ymax: 40&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; CRS:           NA&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tibble: 1 × 21&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   `sp ace` repeated `a**^@`   `%`   `*`   `!` `d(!)9` REPEATED `can&quot;&#x27;t` hi_\th…¹   lea…²&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;      &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;       78       18      99    28    26    38      43       73       51       33      23&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 10 more variables: `€` &amp;lt;int&amp;gt;, ação &amp;lt;int&amp;gt;, Farœ &amp;lt;int&amp;gt;, `a b c d e f` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   testCamelCase &amp;lt;int&amp;gt;, `!leadingpunct` &amp;lt;int&amp;gt;, `average # of days` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, `jan 2009 sales` &amp;lt;int&amp;gt;, Geometry &amp;lt;POINT&amp;gt;, and abbreviated&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   variable names ¹​`hi_\`there\``, ²​`  leading spaces`&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# ℹ Use `colnames()` to see all variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;The &lt;code&gt;sf&lt;&#x2F;code&gt; object has been created. But now how does our default method of the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function work on this object? There is only one way to know, try it.&lt;&#x2F;p&gt;
&lt;pre class=&quot;z-code&quot;&gt;&lt;code&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;clean_names(test_sf)
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;
&lt;&#x2F;span&gt;&lt;span class=&quot;z-text z-plain&quot;&gt;Error in st_geometry.sf(x) : attr(obj, &amp;quot;sf_column&amp;quot;) does not point to a geometry column. Did you rename it, without setting st_geometry(obj) &amp;lt;- &amp;quot;newname&amp;quot;?
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Notice how it fails. &lt;code&gt;sf&lt;&#x2F;code&gt; noticed that I changed the name of the geometry column without explicitly telling it I did so. Since the geometry column is &lt;em&gt;almost&lt;&#x2F;em&gt; always the last column of an sf object, we can use the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&quot;&gt;&lt;code&gt;make_clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function on every column but the last one! To do this we will use the &lt;a href=&quot;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&quot;&gt;&lt;code&gt;rename_at()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function from &lt;code&gt;dplyr&lt;&#x2F;code&gt;. This function allows you rename columns based on their name or position, and a function that renames it (in this case, &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&quot;&gt;&lt;code&gt;make_clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;).&lt;&#x2F;p&gt;
&lt;p&gt;For this example dataset, say I wanted to clean the first column. How would I do that? Note that the first column is called &lt;code&gt;sp ace&lt;&#x2F;code&gt;. How this works can be seen in a simple example. In the below function call we are using the &lt;a href=&quot;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&quot;&gt;&lt;code&gt;rename_at()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function (for more, go &lt;a href=&quot;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select.html&quot;&gt;here&lt;&#x2F;a&gt;), selecting the first column name, and renaming it using the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;make_clean_names.html&quot;&gt;&lt;code&gt;make_clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&#x27;&gt;rename_at&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt;, .vars &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;ggplot2.tidyverse.org&#x2F;reference&#x2F;vars.html&#x27;&gt;vars&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;1&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;, .funs &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;make_clean_names&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tibble: 1 × 20&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   sp_ace repea…¹ `a**^@`   `%`   `*`   `!` `d(!)9` REPEA…² can&quot;&#x27;…³ hi_\t…⁴   lea…⁵   `€`&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;     78      18      99    28    26    38      43      73      51      33      23    27&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 8 more variables: ação &amp;lt;int&amp;gt;, Farœ &amp;lt;int&amp;gt;, `a b c d e f` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   testCamelCase &amp;lt;int&amp;gt;, `!leadingpunct` &amp;lt;int&amp;gt;, `average # of days` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, `jan 2009 sales` &amp;lt;int&amp;gt;, and abbreviated variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   ¹​repeated, ²​REPEATED, ³​`can&quot;&#x27;t`, ⁴​`hi_\`there\``, ⁵​`  leading spaces`&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# ℹ Use `colnames()` to see all variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Notice how only the first column has been cleaned. It went from &lt;code&gt;sp ace&lt;&#x2F;code&gt; to &lt;code&gt;sp_ace&lt;&#x2F;code&gt;. The goal is to replicate this for all columns &lt;em&gt;except&lt;&#x2F;em&gt; the last one.&lt;&#x2F;p&gt;
&lt;p&gt;To write the sf method, the above line of code can be adapted to select columns 1 through the number of columns &lt;em&gt;minus&lt;&#x2F;em&gt; 1 (so geometry isn&#x27;t selected). In order to make this work, we need to identify the second to last column---this will be supplied as the ending value of our selected variables.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nv&#x27;&gt;clean_names.sf&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;kr&#x27;&gt;function&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, &lt;span class=&#x27;nv&#x27;&gt;case&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;snake&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;#123;&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# identify last column that is not geometry&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nv&#x27;&gt;last_col_to_clean&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;nrow.html&#x27;&gt;ncol&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;m&#x27;&gt;1&lt;&#x2F;span&gt;
  &lt;span class=&#x27;c&#x27;&gt;# create a new dat object&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&#x27;&gt;rename_at&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, 
                   &lt;span class=&#x27;c&#x27;&gt;# rename the first up until the second to last&lt;&#x2F;span&gt;
                   .vars &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;ggplot2.tidyverse.org&#x2F;reference&#x2F;vars.html&#x27;&gt;vars&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;1&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;:&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;last_col_to_clean&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;, 
                   &lt;span class=&#x27;c&#x27;&gt;# clean using the make_clean_names&lt;&#x2F;span&gt;
                   .funs &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;nv&#x27;&gt;make_clean_names&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;function.html&#x27;&gt;return&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;o&#x27;&gt;&amp;#125;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Voilà! Our first non-default method has been created. This means that when an &lt;code&gt;sf&lt;&#x2F;code&gt; object is supplied to our generic function &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; it looks at the class of the object---&lt;code&gt;class(sf_object)&lt;&#x2F;code&gt;---notices it&#x27;s an &lt;code&gt;sf&lt;&#x2F;code&gt; object, then dispatches (uses) the &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names.sf()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; method instead of the default.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&#x27;&gt;clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_sf&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Simple feature collection with 1 feature and 20 fields&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Geometry type: POINT&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Dimension:     XY&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; Bounding box:  xmin: -80 ymin: 40 xmax: -80 ymax: 40&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; CRS:           NA&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tibble: 1 × 21&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   sp_ace repeated     a percent     x   x_2   d_9 repeated_2  cant hi_th…¹ leadi…²   x_3&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;      &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;     78       18    99      28    26    38    43         73    51      33      23    27&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 9 more variables: acao &amp;lt;int&amp;gt;, faroe &amp;lt;int&amp;gt;, a_b_c_d_e_f &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   test_camel_case &amp;lt;int&amp;gt;, leadingpunct &amp;lt;int&amp;gt;, average_number_of_days &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, jan_2009_sales &amp;lt;int&amp;gt;, Geometry &amp;lt;POINT&amp;gt;, and abbreviated&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   variable names ¹​hi_there, ²​leading_spaces&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# ℹ Use `colnames()` to see all variable names&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Here we see that it worked exactly as we hoped. Every column but the last has been altered. This allows &lt;code&gt;sf&lt;&#x2F;code&gt; to name it&#x27;s geometry columns whatever it would like without disrupting it.&lt;&#x2F;p&gt;
&lt;p&gt;Shortly after this addition was added to the package I became aware of another type of object that had problems using &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;. This is the &lt;code&gt;tbl_graph&lt;&#x2F;code&gt; object from the &lt;code&gt;tidygraph&lt;&#x2F;code&gt; package from Thomas Lin Pederson.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tbl-graph-method&quot;&gt;&lt;code&gt;tbl_graph&lt;&#x2F;code&gt; method&lt;&#x2F;h3&gt;
&lt;p&gt;In issue &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sfirke&#x2F;janitor&#x2F;issues&#x2F;252&quot;&gt;#252&lt;&#x2F;a&gt; &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;gvdr&quot;&gt;@gvdr&lt;&#x2F;a&gt; noted that calling &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; on a &lt;code&gt;tbl_graph&lt;&#x2F;code&gt; doesn&#x27;t execute. Thankfully &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Tazinho&quot;&gt;@Tazinho&lt;&#x2F;a&gt; noted that you could easily clean the column headers by using the &lt;a href=&quot;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&quot;&gt;&lt;code&gt;rename_all()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; function from &lt;code&gt;dplyr&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Here the solution was even easier than above. As a reminder, in order to make the &lt;code&gt;tbl_graph&lt;&#x2F;code&gt; method, we need to specify the name of the generic followed by the object class.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nv&#x27;&gt;clean_names.tbl_graph&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;kr&#x27;&gt;function&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, &lt;span class=&#x27;nv&#x27;&gt;case&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;=&lt;&#x2F;span&gt; &lt;span class=&#x27;s&#x27;&gt;&quot;snake&quot;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;#123;&lt;&#x2F;span&gt; 
  &lt;span class=&#x27;c&#x27;&gt;# rename all columns&lt;&#x2F;span&gt;
  &lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;dplyr.tidyverse.org&#x2F;reference&#x2F;select_all.html&#x27;&gt;rename_all&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;, &lt;span class=&#x27;nv&#x27;&gt;make_clean_names&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;function.html&#x27;&gt;return&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;dat&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
  &lt;span class=&#x27;o&#x27;&gt;&amp;#125;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;In order to test the function, we will need a graph to test it on. This example draws on the example used in the issue.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;kr&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;r&#x2F;base&#x2F;library.html&#x27;&gt;library&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;tidygraph.data-imaginist.com&#x27;&gt;tidygraph&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;# create test graph to test clean_names&lt;&#x2F;span&gt;
&lt;span class=&#x27;nv&#x27;&gt;test_graph&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&amp;lt;-&lt;&#x2F;span&gt; &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;tidygraph.data-imaginist.com&#x2F;reference&#x2F;sampling_games.html&#x27;&gt;play_erdos_renyi&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;m&#x27;&gt;0&lt;&#x2F;span&gt;, &lt;span class=&#x27;m&#x27;&gt;0.5&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt; &lt;span class=&#x27;o&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;magrittr.tidyverse.org&#x2F;reference&#x2F;pipe.html&#x27;&gt;%&amp;gt;%&lt;&#x2F;a&gt;&lt;&#x2F;span&gt; 
  &lt;span class=&#x27;c&#x27;&gt;# attach test_df as columns &lt;&#x2F;span&gt;
  &lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;tidygraph.data-imaginist.com&#x2F;reference&#x2F;bind_graphs.html&#x27;&gt;bind_nodes&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_df&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;

&lt;span class=&#x27;nv&#x27;&gt;test_graph&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tbl_graph: 1 nodes and 0 edges&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; #&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # A rooted tree&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; #&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # Node Data: 1 × 20 (active)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   sp ace… repeat… `a**^@`   `%`   `*`   `!` `d(!)9` REPEAT… can&quot;&#x27;t… hi_\th…   lead…&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;     &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;      78      18      99    28    26    38      43      73      51      33      23&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 9 more variables: `€` &amp;lt;int&amp;gt;, ação &amp;lt;int&amp;gt;, Farœ &amp;lt;int&amp;gt;, `a b c d e f` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   testCamelCase &amp;lt;int&amp;gt;, `!leadingpunct` &amp;lt;int&amp;gt;, `average # of days` &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, `jan 2009 sales` &amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # Edge Data: 0 × 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 2 variables: from &amp;lt;int&amp;gt;, to &amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;Here we see that there is a graph with only 1 node and 0 edges (relations) with bad column headers (for more, visit the &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;thomasp85&#x2F;tidygraph&#x2F;&quot;&gt;GitHub page&lt;&#x2F;a&gt;). Now we can test this as well.&lt;&#x2F;p&gt;
&lt;div class=&quot;highlight&quot;&gt;
&lt;pre class=&#x27;chroma&#x27;&gt;&lt;code class=&#x27;language-r&#x27; data-lang=&#x27;r&#x27;&gt;&lt;span class=&#x27;nf&#x27;&gt;&lt;a href=&#x27;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&#x27;&gt;clean_names&lt;&#x2F;a&gt;&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;(&lt;&#x2F;span&gt;&lt;span class=&#x27;nv&#x27;&gt;test_graph&lt;&#x2F;span&gt;&lt;span class=&#x27;o&#x27;&gt;)&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# A tbl_graph: 1 nodes and 0 edges&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; #&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # A rooted tree&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; #&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # Node Data: 1 × 20 (active)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;   sp_ace repeat…     a percent     x   x_2   d_9 repeat…  cant hi_the… leadin…   x_3&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt;    &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;   &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt; &lt;span style=&#x27;color: #555555; font-style: italic;&#x27;&gt;&amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;1&lt;&#x2F;span&gt;     78      18    99      28    26    38    43      73    51      33      23    27&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 8 more variables: acao &amp;lt;int&amp;gt;, faroe &amp;lt;int&amp;gt;, a_b_c_d_e_f &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   test_camel_case &amp;lt;int&amp;gt;, leadingpunct &amp;lt;int&amp;gt;, average_number_of_days &amp;lt;int&amp;gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#   jan2009sales &amp;lt;int&amp;gt;, jan_2009_sales &amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;#&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;&lt;span style=&#x27;color: #555555;&#x27;&gt;#&amp;gt; # Edge Data: 0 × 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&#x27;c&#x27;&gt;#&amp;gt; &lt;span style=&#x27;color: #555555;&#x27;&gt;# … with 2 variables: from &amp;lt;int&amp;gt;, to &amp;lt;int&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;div&gt;
&lt;p&gt;It worked as anticipated!&lt;&#x2F;p&gt;
&lt;h3 id=&quot;review-tl-dr&quot;&gt;Review (tl;dr)&lt;&#x2F;h3&gt;
&lt;p&gt;In the preceding sections we learned what generic functions and methods are. How to create a generic function, a default method, and methods for objects of different classes.&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;generic function&lt;&#x2F;strong&gt;: &quot;A generic function is a function whose behavior depends on the classes or identities of the arguments supplied to it&quot;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;generic function method&lt;&#x2F;strong&gt;: &quot;part of a generic function and which provides information about how that generic function should behave [for] certain classes&quot;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;The process to create a function with a method is to:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Create a generic function with:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;f_x &amp;lt;- function() { UseMethod(&quot;f_x&quot;) }&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Define the default method with:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;f_x.default &amp;lt;- function() { do something }&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Define object class specific methods with:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;f_x.class &amp;lt;- function() { do something else}&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;notes&quot;&gt;Notes&lt;&#x2F;h4&gt;
&lt;p&gt;If you have not yet encountered the &lt;code&gt;janitor&lt;&#x2F;code&gt; package it will help you tremendously with various data cleaning processes. Clearly, &lt;a href=&quot;https:&#x2F;&#x2F;rdrr.io&#x2F;pkg&#x2F;janitor&#x2F;man&#x2F;clean_names.html&quot;&gt;&lt;code&gt;clean_names()&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; is my favorite function as it helps me enforce my preferred style (and the only). If you are not aware of &lt;em&gt;&quot;proper&quot;&lt;&#x2F;em&gt; R style, I suggest you read the &lt;a href=&quot;http:&#x2F;&#x2F;adv-r.had.co.nz&#x2F;Style.html&quot;&gt;style guide&lt;&#x2F;a&gt; in &lt;a href=&quot;http:&#x2F;&#x2F;adv-r.had.co.nz&#x2F;&quot;&gt;Advanced R&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;While on the subject of &lt;em&gt;Advanced R&lt;&#x2F;em&gt;, I suggest you read the &quot;Creating new methods and generics&quot; &lt;a href=&quot;http:&#x2F;&#x2F;adv-r.had.co.nz&#x2F;OO-essentials.html&quot;&gt;section&lt;&#x2F;a&gt; of it. I struggled comprehending it at first because I didn&#x27;t even know what a method was. However, if after reading this you feel like you want more, that&#x27;s the place to go.&lt;&#x2F;p&gt;
&lt;p&gt;I&#x27;d like to thank &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;sfirke&quot;&gt;@sfirke&lt;&#x2F;a&gt; for being exceptionally helpful in guiding my contributions to the &lt;code&gt;janitor&lt;&#x2F;code&gt; package.&lt;&#x2F;p&gt;
</content>
        
    </entry>
</feed>
